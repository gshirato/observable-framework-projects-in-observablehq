/**
 * Bundled by jsDelivr using Rollup v2.79.1 and Terser v5.19.2.
 * Original file: /npm/d3-scale@3.3.0/src/index.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import{range as n,bisect as t,tickStep as r,ticks as e,tickIncrement as u,ascending as a,quantileSorted as o,quantile as i}from"../d3-array@2.12.1/_esm.js";import{interpolateNumber as c,interpolate as l,interpolateRound as f,piecewise as s}from"../d3-interpolate@2.0.1/_esm.js";import{formatSpecifier as p,precisionFixed as h,precisionRound as g,precisionPrefix as m,formatPrefix as d,format as y}from"../d3-format@2.0.0/_esm.js";import{timeSecond as v,timeMinute as M,timeHour as w,timeDay as k,timeWeek as N,timeMonth as x,timeYear as b,timeTickInterval as A,timeTicks as q,utcSecond as S,utcMinute as D,utcHour as I,utcDay as O,utcWeek as R,utcMonth as E,utcYear as L,utcTickInterval as F,utcTicks as P}from"../d3-time@2.1.1/_esm.js";import{timeFormat as T,utcFormat as Q}from"../d3-time-format@3.0.0/_esm.js";function U(n,t){switch(arguments.length){case 0:break;case 1:this.range(n);break;default:this.range(t).domain(n)}return this}function B(n,t){switch(arguments.length){case 0:break;case 1:"function"==typeof n?this.interpolator(n):this.range(n);break;default:this.domain(n),"function"==typeof t?this.interpolator(t):this.range(t)}return this}const C=Symbol("implicit");function z(){var n=new Map,t=[],r=[],e=C;function u(u){var a=u+"",o=n.get(a);if(!o){if(e!==C)return e;n.set(a,o=t.push(u))}return r[(o-1)%r.length]}return u.domain=function(r){if(!arguments.length)return t.slice();t=[],n=new Map;for(const e of r){const r=e+"";n.has(r)||n.set(r,t.push(e))}return u},u.range=function(n){return arguments.length?(r=Array.from(n),u):r.slice()},u.unknown=function(n){return arguments.length?(e=n,u):e},u.copy=function(){return z(t,r).unknown(e)},U.apply(u,arguments),u}function Y(){var t,r,e=z().unknown(void 0),u=e.domain,a=e.range,o=0,i=1,c=!1,l=0,f=0,s=.5;function p(){var e=u().length,p=i<o,h=p?i:o,g=p?o:i;t=(g-h)/Math.max(1,e-l+2*f),c&&(t=Math.floor(t)),h+=(g-h-t*(e-l))*s,r=t*(1-l),c&&(h=Math.round(h),r=Math.round(r));var m=n(e).map((function(n){return h+t*n}));return a(p?m.reverse():m)}return delete e.unknown,e.domain=function(n){return arguments.length?(u(n),p()):u()},e.range=function(n){return arguments.length?([o,i]=n,o=+o,i=+i,p()):[o,i]},e.rangeRound=function(n){return[o,i]=n,o=+o,i=+i,c=!0,p()},e.bandwidth=function(){return r},e.step=function(){return t},e.round=function(n){return arguments.length?(c=!!n,p()):c},e.padding=function(n){return arguments.length?(l=Math.min(1,f=+n),p()):l},e.paddingInner=function(n){return arguments.length?(l=Math.min(1,n),p()):l},e.paddingOuter=function(n){return arguments.length?(f=+n,p()):f},e.align=function(n){return arguments.length?(s=Math.max(0,Math.min(1,n)),p()):s},e.copy=function(){return Y(u(),[o,i]).round(c).paddingInner(l).paddingOuter(f).align(s)},U.apply(p(),arguments)}function j(n){var t=n.copy;return n.padding=n.paddingOuter,delete n.paddingInner,delete n.paddingOuter,n.copy=function(){return j(t())},n}function G(){return j(Y.apply(null,arguments).paddingInner(1))}function H(n){return+n}var J=[0,1];function K(n){return n}function V(n,t){return(t-=n=+n)?function(r){return(r-n)/t}:(r=isNaN(t)?NaN:.5,function(){return r});var r}function W(n,t,r){var e=n[0],u=n[1],a=t[0],o=t[1];return u<e?(e=V(u,e),a=r(o,a)):(e=V(e,u),a=r(a,o)),function(n){return a(e(n))}}function X(n,r,e){var u=Math.min(n.length,r.length)-1,a=new Array(u),o=new Array(u),i=-1;for(n[u]<n[0]&&(n=n.slice().reverse(),r=r.slice().reverse());++i<u;)a[i]=V(n[i],n[i+1]),o[i]=e(r[i],r[i+1]);return function(r){var e=t(n,r,1,u)-1;return o[e](a[e](r))}}function Z(n,t){return t.domain(n.domain()).range(n.range()).interpolate(n.interpolate()).clamp(n.clamp()).unknown(n.unknown())}function $(){var n,t,r,e,u,a,o=J,i=J,s=l,p=K;function h(){var n,t,r,c=Math.min(o.length,i.length);return p!==K&&(n=o[0],t=o[c-1],n>t&&(r=n,n=t,t=r),p=function(r){return Math.max(n,Math.min(t,r))}),e=c>2?X:W,u=a=null,g}function g(t){return null==t||isNaN(t=+t)?r:(u||(u=e(o.map(n),i,s)))(n(p(t)))}return g.invert=function(r){return p(t((a||(a=e(i,o.map(n),c)))(r)))},g.domain=function(n){return arguments.length?(o=Array.from(n,H),h()):o.slice()},g.range=function(n){return arguments.length?(i=Array.from(n),h()):i.slice()},g.rangeRound=function(n){return i=Array.from(n),s=f,h()},g.clamp=function(n){return arguments.length?(p=!!n||K,h()):p!==K},g.interpolate=function(n){return arguments.length?(s=n,h()):s},g.unknown=function(n){return arguments.length?(r=n,g):r},function(r,e){return n=r,t=e,h()}}function _(){return $()(K,K)}function nn(n,t,e,u){var a,o=r(n,t,e);switch((u=p(null==u?",f":u)).type){case"s":var i=Math.max(Math.abs(n),Math.abs(t));return null!=u.precision||isNaN(a=m(o,i))||(u.precision=a),d(u,i);case"":case"e":case"g":case"p":case"r":null!=u.precision||isNaN(a=g(o,Math.max(Math.abs(n),Math.abs(t))))||(u.precision=a-("e"===u.type));break;case"f":case"%":null!=u.precision||isNaN(a=h(o))||(u.precision=a-2*("%"===u.type))}return y(u)}function tn(n){var t=n.domain;return n.ticks=function(n){var r=t();return e(r[0],r[r.length-1],null==n?10:n)},n.tickFormat=function(n,r){var e=t();return nn(e[0],e[e.length-1],null==n?10:n,r)},n.nice=function(r){null==r&&(r=10);var e,a,o=t(),i=0,c=o.length-1,l=o[i],f=o[c],s=10;for(f<l&&(a=l,l=f,f=a,a=i,i=c,c=a);s-- >0;){if((a=u(l,f,r))===e)return o[i]=l,o[c]=f,t(o);if(a>0)l=Math.floor(l/a)*a,f=Math.ceil(f/a)*a;else{if(!(a<0))break;l=Math.ceil(l*a)/a,f=Math.floor(f*a)/a}e=a}return n},n}function rn(){var n=_();return n.copy=function(){return Z(n,rn())},U.apply(n,arguments),tn(n)}function en(n){var t;function r(n){return null==n||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(t){return arguments.length?(n=Array.from(t,H),r):n.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return en(n).unknown(t)},n=arguments.length?Array.from(n,H):[0,1],tn(r)}function un(n,t){var r,e=0,u=(n=n.slice()).length-1,a=n[e],o=n[u];return o<a&&(r=e,e=u,u=r,r=a,a=o,o=r),n[e]=t.floor(a),n[u]=t.ceil(o),n}function an(n){return Math.log(n)}function on(n){return Math.exp(n)}function cn(n){return-Math.log(-n)}function ln(n){return-Math.exp(-n)}function fn(n){return isFinite(n)?+("1e"+n):n<0?0:n}function sn(n){return function(t){return-n(-t)}}function pn(n){var t,r,u=n(an,on),a=u.domain,o=10;function i(){return t=function(n){return n===Math.E?Math.log:10===n&&Math.log10||2===n&&Math.log2||(n=Math.log(n),function(t){return Math.log(t)/n})}(o),r=function(n){return 10===n?fn:n===Math.E?Math.exp:function(t){return Math.pow(n,t)}}(o),a()[0]<0?(t=sn(t),r=sn(r),n(cn,ln)):n(an,on),u}return u.base=function(n){return arguments.length?(o=+n,i()):o},u.domain=function(n){return arguments.length?(a(n),i()):a()},u.ticks=function(n){var u,i=a(),c=i[0],l=i[i.length-1];(u=l<c)&&(h=c,c=l,l=h);var f,s,p,h=t(c),g=t(l),m=null==n?10:+n,d=[];if(!(o%1)&&g-h<m){if(h=Math.floor(h),g=Math.ceil(g),c>0){for(;h<=g;++h)for(s=1,f=r(h);s<o;++s)if(!((p=f*s)<c)){if(p>l)break;d.push(p)}}else for(;h<=g;++h)for(s=o-1,f=r(h);s>=1;--s)if(!((p=f*s)<c)){if(p>l)break;d.push(p)}2*d.length<m&&(d=e(c,l,m))}else d=e(h,g,Math.min(g-h,m)).map(r);return u?d.reverse():d},u.tickFormat=function(n,e){if(null==e&&(e=10===o?".0e":","),"function"!=typeof e&&(e=y(e)),n===1/0)return e;null==n&&(n=10);var a=Math.max(1,o*n/u.ticks().length);return function(n){var u=n/r(Math.round(t(n)));return u*o<o-.5&&(u*=o),u<=a?e(n):""}},u.nice=function(){return a(un(a(),{floor:function(n){return r(Math.floor(t(n)))},ceil:function(n){return r(Math.ceil(t(n)))}}))},u}function hn(){var n=pn($()).domain([1,10]);return n.copy=function(){return Z(n,hn()).base(n.base())},U.apply(n,arguments),n}function gn(n){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/n))}}function mn(n){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*n}}function dn(n){var t=1,r=n(gn(t),mn(t));return r.constant=function(r){return arguments.length?n(gn(t=+r),mn(t)):t},tn(r)}function yn(){var n=dn($());return n.copy=function(){return Z(n,yn()).constant(n.constant())},U.apply(n,arguments)}function vn(n){return function(t){return t<0?-Math.pow(-t,n):Math.pow(t,n)}}function Mn(n){return n<0?-Math.sqrt(-n):Math.sqrt(n)}function wn(n){return n<0?-n*n:n*n}function kn(n){var t=n(K,K),r=1;return t.exponent=function(t){return arguments.length?1===(r=+t)?n(K,K):.5===r?n(Mn,wn):n(vn(r),vn(1/r)):r},tn(t)}function Nn(){var n=kn($());return n.copy=function(){return Z(n,Nn()).exponent(n.exponent())},U.apply(n,arguments),n}function xn(){return Nn.apply(null,arguments).exponent(.5)}function bn(n){return Math.sign(n)*n*n}function An(){var n,t=_(),r=[0,1],e=!1;function u(r){var u=function(n){return Math.sign(n)*Math.sqrt(Math.abs(n))}(t(r));return isNaN(u)?n:e?Math.round(u):u}return u.invert=function(n){return t.invert(bn(n))},u.domain=function(n){return arguments.length?(t.domain(n),u):t.domain()},u.range=function(n){return arguments.length?(t.range((r=Array.from(n,H)).map(bn)),u):r.slice()},u.rangeRound=function(n){return u.range(n).round(!0)},u.round=function(n){return arguments.length?(e=!!n,u):e},u.clamp=function(n){return arguments.length?(t.clamp(n),u):t.clamp()},u.unknown=function(t){return arguments.length?(n=t,u):n},u.copy=function(){return An(t.domain(),r).round(e).clamp(t.clamp()).unknown(n)},U.apply(u,arguments),tn(u)}function qn(){var n,r=[],e=[],u=[];function i(){var n=0,t=Math.max(1,e.length);for(u=new Array(t-1);++n<t;)u[n-1]=o(r,n/t);return c}function c(r){return null==r||isNaN(r=+r)?n:e[t(u,r)]}return c.invertExtent=function(n){var t=e.indexOf(n);return t<0?[NaN,NaN]:[t>0?u[t-1]:r[0],t<u.length?u[t]:r[r.length-1]]},c.domain=function(n){if(!arguments.length)return r.slice();r=[];for(let t of n)null==t||isNaN(t=+t)||r.push(t);return r.sort(a),i()},c.range=function(n){return arguments.length?(e=Array.from(n),i()):e.slice()},c.unknown=function(t){return arguments.length?(n=t,c):n},c.quantiles=function(){return u.slice()},c.copy=function(){return qn().domain(r).range(e).unknown(n)},U.apply(c,arguments)}function Sn(){var n,r=0,e=1,u=1,a=[.5],o=[0,1];function i(r){return null!=r&&r<=r?o[t(a,r,0,u)]:n}function c(){var n=-1;for(a=new Array(u);++n<u;)a[n]=((n+1)*e-(n-u)*r)/(u+1);return i}return i.domain=function(n){return arguments.length?([r,e]=n,r=+r,e=+e,c()):[r,e]},i.range=function(n){return arguments.length?(u=(o=Array.from(n)).length-1,c()):o.slice()},i.invertExtent=function(n){var t=o.indexOf(n);return t<0?[NaN,NaN]:t<1?[r,a[0]]:t>=u?[a[u-1],e]:[a[t-1],a[t]]},i.unknown=function(t){return arguments.length?(n=t,i):i},i.thresholds=function(){return a.slice()},i.copy=function(){return Sn().domain([r,e]).range(o).unknown(n)},U.apply(tn(i),arguments)}function Dn(){var n,r=[.5],e=[0,1],u=1;function a(a){return null!=a&&a<=a?e[t(r,a,0,u)]:n}return a.domain=function(n){return arguments.length?(r=Array.from(n),u=Math.min(r.length,e.length-1),a):r.slice()},a.range=function(n){return arguments.length?(e=Array.from(n),u=Math.min(r.length,e.length-1),a):e.slice()},a.invertExtent=function(n){var t=e.indexOf(n);return[r[t-1],r[t]]},a.unknown=function(t){return arguments.length?(n=t,a):n},a.copy=function(){return Dn().domain(r).range(e).unknown(n)},U.apply(a,arguments)}function In(n){return new Date(n)}function On(n){return n instanceof Date?+n:+new Date(+n)}function Rn(n,t,r,e,u,a,o,i,c,l){var f=_(),s=f.invert,p=f.domain,h=l(".%L"),g=l(":%S"),m=l("%I:%M"),d=l("%I %p"),y=l("%a %d"),v=l("%b %d"),M=l("%B"),w=l("%Y");function k(n){return(c(n)<n?h:i(n)<n?g:o(n)<n?m:a(n)<n?d:e(n)<n?u(n)<n?y:v:r(n)<n?M:w)(n)}return f.invert=function(n){return new Date(s(n))},f.domain=function(n){return arguments.length?p(Array.from(n,On)):p().map(In)},f.ticks=function(t){var r=p();return n(r[0],r[r.length-1],null==t?10:t)},f.tickFormat=function(n,t){return null==t?k:l(t)},f.nice=function(n){var r=p();return n&&"function"==typeof n.range||(n=t(r[0],r[r.length-1],null==n?10:n)),n?p(un(r,n)):f},f.copy=function(){return Z(f,Rn(n,t,r,e,u,a,o,i,c,l))},f}function En(){return U.apply(Rn(q,A,b,x,N,k,w,M,v,T).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Ln(){return U.apply(Rn(P,F,L,E,R,O,I,D,S,Q).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Fn(){var n,t,r,e,u,a=0,o=1,i=K,c=!1;function s(t){return null==t||isNaN(t=+t)?u:i(0===r?.5:(t=(e(t)-n)*r,c?Math.max(0,Math.min(1,t)):t))}function p(n){return function(t){var r,e;return arguments.length?([r,e]=t,i=n(r,e),s):[i(0),i(1)]}}return s.domain=function(u){return arguments.length?([a,o]=u,n=e(a=+a),t=e(o=+o),r=n===t?0:1/(t-n),s):[a,o]},s.clamp=function(n){return arguments.length?(c=!!n,s):c},s.interpolator=function(n){return arguments.length?(i=n,s):i},s.range=p(l),s.rangeRound=p(f),s.unknown=function(n){return arguments.length?(u=n,s):u},function(u){return e=u,n=u(a),t=u(o),r=n===t?0:1/(t-n),s}}function Pn(n,t){return t.domain(n.domain()).interpolator(n.interpolator()).clamp(n.clamp()).unknown(n.unknown())}function Tn(){var n=tn(Fn()(K));return n.copy=function(){return Pn(n,Tn())},B.apply(n,arguments)}function Qn(){var n=pn(Fn()).domain([1,10]);return n.copy=function(){return Pn(n,Qn()).base(n.base())},B.apply(n,arguments)}function Un(){var n=dn(Fn());return n.copy=function(){return Pn(n,Un()).constant(n.constant())},B.apply(n,arguments)}function Bn(){var n=kn(Fn());return n.copy=function(){return Pn(n,Bn()).exponent(n.exponent())},B.apply(n,arguments)}function Cn(){return Bn.apply(null,arguments).exponent(.5)}function zn(){var n=[],r=K;function e(e){if(null!=e&&!isNaN(e=+e))return r((t(n,e,1)-1)/(n.length-1))}return e.domain=function(t){if(!arguments.length)return n.slice();n=[];for(let r of t)null==r||isNaN(r=+r)||n.push(r);return n.sort(a),e},e.interpolator=function(n){return arguments.length?(r=n,e):r},e.range=function(){return n.map(((t,e)=>r(e/(n.length-1))))},e.quantiles=function(t){return Array.from({length:t+1},((r,e)=>i(n,e/t)))},e.copy=function(){return zn(r).domain(n)},B.apply(e,arguments)}function Yn(){var n,t,r,e,u,a,o,i=0,c=.5,p=1,h=1,g=K,m=!1;function d(n){return isNaN(n=+n)?o:(n=.5+((n=+a(n))-t)*(h*n<h*t?e:u),g(m?Math.max(0,Math.min(1,n)):n))}function y(n){return function(t){var r,e,u;return arguments.length?([r,e,u]=t,g=s(n,[r,e,u]),d):[g(0),g(.5),g(1)]}}return d.domain=function(o){return arguments.length?([i,c,p]=o,n=a(i=+i),t=a(c=+c),r=a(p=+p),e=n===t?0:.5/(t-n),u=t===r?0:.5/(r-t),h=t<n?-1:1,d):[i,c,p]},d.clamp=function(n){return arguments.length?(m=!!n,d):m},d.interpolator=function(n){return arguments.length?(g=n,d):g},d.range=y(l),d.rangeRound=y(f),d.unknown=function(n){return arguments.length?(o=n,d):o},function(o){return a=o,n=o(i),t=o(c),r=o(p),e=n===t?0:.5/(t-n),u=t===r?0:.5/(r-t),h=t<n?-1:1,d}}function jn(){var n=tn(Yn()(K));return n.copy=function(){return Pn(n,jn())},B.apply(n,arguments)}function Gn(){var n=pn(Yn()).domain([.1,1,10]);return n.copy=function(){return Pn(n,Gn()).base(n.base())},B.apply(n,arguments)}function Hn(){var n=dn(Yn());return n.copy=function(){return Pn(n,Hn()).constant(n.constant())},B.apply(n,arguments)}function Jn(){var n=kn(Yn());return n.copy=function(){return Pn(n,Jn()).exponent(n.exponent())},B.apply(n,arguments)}function Kn(){return Jn.apply(null,arguments).exponent(.5)}export{Y as scaleBand,jn as scaleDiverging,Gn as scaleDivergingLog,Jn as scaleDivergingPow,Kn as scaleDivergingSqrt,Hn as scaleDivergingSymlog,en as scaleIdentity,C as scaleImplicit,rn as scaleLinear,hn as scaleLog,z as scaleOrdinal,G as scalePoint,Nn as scalePow,qn as scaleQuantile,Sn as scaleQuantize,An as scaleRadial,Tn as scaleSequential,Qn as scaleSequentialLog,Bn as scaleSequentialPow,zn as scaleSequentialQuantile,Cn as scaleSequentialSqrt,Un as scaleSequentialSymlog,xn as scaleSqrt,yn as scaleSymlog,Dn as scaleThreshold,En as scaleTime,Ln as scaleUtc,nn as tickFormat};export default null;
